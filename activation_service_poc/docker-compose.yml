version: '3'

services:
  activation-service:
    image: spacemeshos/go-spacemesh-dev:activation-service-poc.0
    command: ["-c", "/config.json", "--node-service-address", "http://node-service:9099"]
    volumes:
      - /tmp/spacemesh-client:/tmp/spacemesh-client
      - ./config.standalone.client.json:/config.json
    networks:
      - spacemesh-net
  activation-service-2:
    image: spacemeshos/go-spacemesh-dev:activation-service-poc.0
    command: ["-c", "/config.json", "--node-service-address", "http://node-service:9099"]
    volumes:
      - /tmp/spacemesh-client2:/tmp/spacemesh-client2
      - ./config.standalone.client2.json:/config.json
    networks:
      - spacemesh-net

  node-service:
    image: spacemeshos/go-spacemesh-dev:activation-service-poc.0
    command: ["-c", "/config.json"]
    volumes:
      - /tmp/spacemesh-node-service:/tmp/spacemesh-node-service
      - ./config.standalone.node-service.json:/config.json
    networks:
      - spacemesh-net
    ports:
      - 9092:9092
      - 9093:9093

networks:
  spacemesh-net:
    driver: bridge
